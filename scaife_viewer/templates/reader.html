{% extends "site_base.html" %}

{% load i18n %}

{% block head_title %}{{ passage.metadata.get_label }}{% endblock %}

{% block body_class %}reader{% endblock %}


{% block body_base %}
  <div class="wrapper">

    <div class="sidebar collapsed" id="left-sidebar">
      <div style="padding: 5px 15px 20px 35px;">
        SIDEBAR
      </div>
    </div>

    <section id="content_body">
      <button class="btn btn-link" style="position: absolute; top: 60px; left: 0; color: #DDD;" onclick="document.getElementById('left-sidebar').classList.toggle('collapsed')"><i class="fa fa-bars"></i></button>
      <button class="btn btn-link" style="position: absolute; top: 60px; right: 0; color: #DDD;" onclick="document.getElementById('right-sidebar').classList.toggle('collapsed')"><i class="fa fa-bars"></i></button>

      <div class="container">

        <div class="passage-heading">
          <a href="{% url 'library' %}">Library &gt;</a>
          <h1>
            {% for breadcrumb in parents %}
              <a href="{% url 'library_cts_resource' breadcrumb.urn %}">{{ breadcrumb.get_label }}</a>{% if not forloop.last %}, {% endif %}
            {% endfor %}
          </h1>
          <h2>{{ passage.metadata.get_label }}</h2>
        </div>

        <div>{% if passage.ancestors %}Ancestors: {% for ancestor in passage.ancestors %}<a href="{% url 'reader' ancestor.urn %}">{{ ancestor.label }}</a>{% if not forloop.last %}, {% endif %}{% endfor %}{% endif %}</div>

        <div class="overall"{% if passage.rtl %} dir="rtl"{% endif %}>
          <div class="pg-left">
            {% if passage.prev_urn %}
              <a id="{% if passage.rtl %}pg-right{% else %}pg-left{% endif %}" href="{% url 'reader' passage.prev_urn %}"><span><i class="fa {% if passage.rtl %}fa-chevron-right{% else %}fa-chevron-left{% endif %}"></i></span></a>
            {% endif %}
          </div>
          <div class="text">
            {{ passage.render|safe }}
          </div>
          <div class="pg-right">
            {% if passage.next_urn %}
              <a id="{% if passage.rtl %}pg-left{% else %}pg-right{% endif %}" href="{% url 'reader' passage.next_urn %}"><span><i class="fa {% if passage.rtl %}fa-chevron-left{% else %}fa-chevron-right{% endif %}"></i></span></a>
            {% endif %}
          </div>
          {% comment %}
          <div class="left">...</div>
          {% endcomment %}
          {% comment %}
          <div class="right">...</div>
          {% endcomment %}
        </div>
      </div>

    </section>

    <div class="sidebar collapsed" id="right-sidebar">
      <div style="padding: 5px 35px 20px 15px; text-align: right;">
        <p class="text-center">
          <span class="text-size-control text-xs" data-size="xs">Αα</span>
          <span class="text-size-control text-sm" data-size="sm">Αα</span>
          <span class="text-size-control text-md" data-size="md">Αα</span>
          <span class="text-size-control text-lg" data-size="lg">Αα</span>
          <span class="text-size-control text-xl" data-size="xl">Αα</span>
        </p>
      </div>
    </div>
  </div>
{% endblock %}
